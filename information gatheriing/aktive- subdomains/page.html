<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Aktive- Subdomains</title>
</head><body>BEST TOOL: <ul><li style="list-style-type: none">sublist3r</li>
</ul>
<br/>
AXFR<ul><li style="list-style-type: none">https://hackertarget.com/zone-transfer/</li>
<li style="list-style-type: none"></li>
<li style="list-style-type: none">1. Identify NS:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">nslookup -type=NS zonetransfer.me &nbsp;</li>
</ul>
</li>
<li style="list-style-type: none">2. Testing for AXFR</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">nslookup -type=any -query=AXFR zonetransfer.me nsztm1.digi.ninja &nbsp;</li>
<li style="list-style-type: none"></li>
</ul>
</li>
<li style="list-style-type: none">DIG commands immer hinten die target ip also zb:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">dig AXFR inlanereight.htb @10.130.33.6</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">wenn vorne 2 sachen -&gt; es ist neue zone -&gt; erneut AXFR auf die zone.</li>
</ul>
</li>
<li style="list-style-type: none"></li>
</ul>
</li>
</ul>
Gobuster Patterns:<ul><li style="list-style-type: none">vim patterns.txt</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">lert-api-shv-{GOBUSTER}-sin6 </li>
<li style="list-style-type: none">atlas-pp-shv-{GOBUSTER}-sin6 &nbsp;</li>
</ul>
</li>
<li style="list-style-type: none"></li>
<li style="list-style-type: none">export TARGET="facebook.com" &nbsp;</li>
<li style="list-style-type: none">export NS="d.ns.facebook.com" &nbsp;</li>
<li style="list-style-type: none">export WORDLIST="numbers.txt" &nbsp;</li>
<li style="list-style-type: none">gobuster dns -q -r "${NS}" -d "${TARGET}" -w "${WORDLIST}" -p ./patterns.txt -o "gobuster_${TARGET}.txt" &nbsp;</li>
<li style="list-style-type: none"></li>
</ul>
vHosts<ul><li style="list-style-type: none">Changing the HOST HTTP header to request a specific domain.</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">curl -s http://192.168.10.10 -H "Host: randomtarget.com</li>
</ul>
</li>
<li style="list-style-type: none">Bruteforcing for possible virtual hosts on the target domain.</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">cat ./vhosts.list | while read vhost;do echo "\n********\nFUZZING: ${vhost}\n********";curl -s -I http://&lt;IP address&gt; -H "HOST: ${vhost}.target.domain" | grep "Content-Length: ";done</li>
</ul>
</li>
<li style="list-style-type: none">Bruteforcing for possible virtual hosts on the target domain using ffuf. &nbsp;(wobei -fs die standard response ist vom vorherigen bruteforce)</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">ffuf -w ./vhosts -u http://&lt;IP address&gt; -H "HOST: FUZZ.target.domain" -fs 612</li>
</ul>
</li>
<li style="list-style-type: none"></li>
</ul>
ZAP<ul><li style="list-style-type: none">open -&gt; add to scope -&gt; spider</li>
<li style="list-style-type: none"></li>
</ul>
ffuf:<ul><li style="list-style-type: none">ffuf -recursion -recursion-depth 1 -u http://192.168.10.10/FUZZ -w /opt/useful/SecLists/Discovery/Web-Content/raft-small-directories-lowercase.txt &nbsp;</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">-recursion: Activates the recursive scan.</li>
<li style="list-style-type: none">-recursion-depth: Specifies the maximum depth to scan.</li>
<li style="list-style-type: none">-u: Our target URL, and FUZZ will be the injection point.</li>
<li style="list-style-type: none">-w: Path to our wordlist.</li>
</ul>
</li>
<li style="list-style-type: none">-&gt; now save the folders as folders.txt</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">awk '/\[INFO\]/ { gsub(/http:\/\/[^\/]+\//,""); print $NF }' output.txt | sed 's/FUZZ//' &gt; folders.txt</li>
</ul>
</li>
<li style="list-style-type: none">-&gt; use cewl to get all words from a homepage and save it into a wordlist.txt (here f.e: length 5) and --lowercase for all lowercase</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">cewl -m5 --lowercase -w wordlist.txt http://192.168.10.10 &nbsp;</li>
</ul>
</li>
<li style="list-style-type: none">-&gt; now give ffuf all parameter:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">ffuf -w ./folders.txt:FOLDERS,./wordlist.txt:WORDLIST,./extensions.txt:EXTENSIONS -u http://192.168.10.10/FOLDERS/WORDLISTEXTENSIONS &nbsp;</li>
</ul>
</li>
<li style="list-style-type: none"></li>
</ul>
<ul><li style="list-style-type: none"><ul><li style="list-style-type: none">&nbsp;</li>
</ul>
</li>
</ul>
</body></html>